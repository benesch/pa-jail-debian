# These directives limit how large a paper can be uploaded.
# post_max_size should be >= upload_max_filesize.
php_value upload_max_filesize 15M
php_value post_max_size 15M

# A large memory_limit helps when sending very large zipped files.
php_value memory_limit 128M

# Turn off the hateful magic_quotes_gpc.
php_flag magic_quotes_gpc off

# Default to UTF-8 (most scripts will override this with <meta>).
AddDefaultCharset UTF-8

# Use index.php for directory access.
DirectoryIndex index.php

# Prevent access to git directories, special dirs, README, regardless of case.
RedirectMatch 403 ^.*/(\.[Gg][Ii][Tt].*|\.[Mm][Yy].*|[Rr][Ee][Aa][Dd][Mm][Ee].*|[Ff][Ii][Ll][Ee][Ss][Tt][Oo][Rr][Ee]|[Rr][Ee][Pp][Oo]|[Tt][Ee][Ss][Tt]|[Ll][Oo][Gg]|.*\.[Ss][Hh])($|/.*$)

# Don't use MultiViews, which can conflict with mod_rewrite suffixless URLs.
Options -MultiViews

# Add .php to suffixless URLs.
<IfModule mod_rewrite.c>
RewriteEngine on
RewriteRule ^($|index|index\.php)(|/.*)$ index.php?__PATH__=$2 [QSA,L,B]
RewriteRule ^(.*)$ index.php?__PATH__=/$1 [QSA,L,B]
</IfModule>

# Uncomment this line to ONLY grant access via https.  Requires mod_ssl.
#
# SSLRequireSSL

# HTTP Authentication: To ask the server to authenticate users,
# uncomment these lines and set $Opt["httpAuthLogin"] in
# Code/options.inc. The $Opt["httpAuthLogin"] value should correspond
# to your AuthType and AuthName.
#
# AuthType Basic
# AuthName "HotCRP"
# AuthUserFile FILENAME
# Require valid-user
